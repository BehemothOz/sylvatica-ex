(()=>{class e extends HTMLElement{connectedCallback(){let e=this.attachShadow({mode:"open"}),t=document.getElementById("spinner-template");e.append(t.content.cloneNode(!0))}}class t extends HTMLElement{connectedCallback(){let e=this.attachShadow({mode:"open"}),t=document.getElementById("icon-wrapper-template");e.append(t.content.cloneNode(!0))}}class n extends HTMLElement{connectedCallback(){let e=this.attachShadow({mode:"open"}),t=document.getElementById("badge-template");e.append(t.content.cloneNode(!0))}}function a(e,t){let n=document.createElement("button"),a=document.createElement("sy-icon");return n.classList.add("button-icon",e),a.append(t),n.append(a),n}function c(e){if(null==e)return"gray";if(e.startsWith("pre"))return"blue";switch(e){case"major":return"red";case"minor":return"orange";case"patch":return"green";default:return"gray"}}customElements.define("sy-spinner",e),customElements.define("sy-icon",t),customElements.define("sy-badge",n),function(){let e=document.getElementById("icon-update-template"),t=document.getElementById("icon-basket-template")}();let l=[{title:"Package",key:"name",render:e=>{let t=document.createElement("div");t.classList.add("package-name");let n=document.createElement("sy-badge"),a=document.createElement("span");return n.setAttribute("color",c(e.diff)),a.textContent=e.name,t.append(n,a),t}},{title:"Semver diff",key:"diff",render:e=>{let t=document.createElement("span");return t.classList.add("semver-diff",`${c(e.diff)}`),t.textContent=e.diff??"identical",t}},{title:"Range",key:"range",className:"range"},{title:"Current Version",key:"version"},{title:"Latest Version",key:"latestVersion"},{title:"Homepage",key:"homepage",render:e=>{try{let t=new URL(e.homepage),n=document.createElement("a");return n.classList.add("link"),n.setAttribute("href",e.homepage),n.setAttribute("title",e.homepage),n.textContent=t.hostname,n}catch{return""}}}],d=document.getElementById("root");window.addEventListener("message",e=>{let{type:t,payload:n}=e.data;switch(t){case"INITIALIZATION":console.log("INITIALIZATION");break;case"DEPENDENCIES":d.append(function(e,t){let n=function(){let e=document.createElement("section"),t=function(){let e=document.createElement("h2");return e.textContent="Dependencies",e}();return e.classList.add("table-section"),e.append(t),e}(),a=function(){let e=document.createElement("div");return e.classList.add("table-wrapper"),e}(),c=document.createElement("table"),l=function(e){let t=document.createElement("thead"),n=document.createElement("tr");for(let t of e){let e=document.createElement("th");e.textContent=t.title,n.append(e)}return t.append(n),t}(e),d=function(e,t){let n=document.createElement("tbody");for(let a of t){let t=function(e,t){let n=document.createElement("tr");for(let a of e){let e=document.createElement("td");if(e.setAttribute("data-label",a.title),a.className&&e.classList.add(a.className),a.render){let n=a.render(t);e.append(n)}else{let n=t[a.key];e.textContent=n}n.append(e)}return n}(e,a);n.append(t)}return n}(e,t);return c.append(l,d),a.append(c),n.append(a),n}(l,e.data.data));break;case"DEV_DEPENDENCIES":break;case"PACKAGE_MANAGER_DETECTED":console.log("PACKAGE_MANAGER_DETECTED")}})})();
//# sourceMappingURL=main.js.map
