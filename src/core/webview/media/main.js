(()=>{class e extends HTMLElement{connectedCallback(){let e=this.attachShadow({mode:"open"}),t=document.getElementById("spinner-template");e.append(t.content.cloneNode(!0))}}class t extends HTMLElement{connectedCallback(){let e=this.attachShadow({mode:"open"}),t=document.getElementById("icon-wrapper-template");e.append(t.content.cloneNode(!0))}}class n extends HTMLElement{connectedCallback(){let e=this.attachShadow({mode:"open"}),t=document.getElementById("badge-template");e.append(t.content.cloneNode(!0))}}function a(e,t){let n=document.createElement("button"),a=document.createElement("sy-icon");return n.classList.add("button-icon",e),a.append(t),n.append(a),n}customElements.define("sy-spinner",e),customElements.define("sy-icon",t),customElements.define("sy-badge",n);let l=function(){let e=document.getElementById("icon-update-template"),t=document.getElementById("icon-basket-template");return{update:()=>a("primary",e.content.cloneNode(!0)),remove:()=>a("danger",t.content.cloneNode(!0))}}();function o(e){if(null==e)return"gray";if(e.startsWith("pre"))return"blue";switch(e){case"major":return"red";case"minor":return"orange";case"patch":return"green";default:return"gray"}}let c=[{title:"Package",key:"name",render:e=>{let t=document.createElement("div");t.classList.add("package-name");let n=document.createElement("sy-badge"),a=document.createElement("span");return n.setAttribute("color",o(e.diff)),a.textContent=e.name,t.append(n,a),t}},{title:"Semver diff",key:"diff",render:e=>{let t=document.createElement("span");return t.classList.add("semver-diff",`${o(e.diff)}`),t.textContent=e.diff??"identical",t}},{title:"Range",key:"range"},{title:"Current Version",key:"version"},{title:"Latest Version",key:"latestVersion"},{title:"Homepage",key:"homepage",render:e=>{try{let t=new URL(e.homepage),n=document.createElement("a");return n.classList.add("link"),n.setAttribute("href",e.homepage),n.setAttribute("title",e.homepage),n.textContent=t.hostname,n}catch{return""}}}];function d(e){return e.isVisibleButtons?c.concat({title:"",key:"actions",render:()=>{let e=document.createElement("div");return e.append(l.update(),l.remove()),e}}):c}function r(e,t){let n=function(){let e=document.createElement("section"),t=function(){let e=document.createElement("h2");return e.textContent="Dependencies",e}();return e.classList.add("table-section"),e.append(t),e}(),a=function(){let e=document.createElement("div");return e.classList.add("table-wrapper"),e}(),l=document.createElement("table"),o=function(e){let t=document.createElement("thead"),n=document.createElement("tr");for(let t of e){let e=document.createElement("th");e.textContent=t.title,n.append(e)}return t.append(n),t}(e),c=function(e,t){let n=document.createElement("tbody");for(let a of t){let t=function(e,t){let n=document.createElement("tr");for(let a of e){let e=document.createElement("td");if(e.setAttribute("data-label",a.title),a.className&&e.classList.add(a.className),a.render){let n=a.render(t);e.append(n)}else{let n=t[a.key];e.textContent=n}n.append(e)}return n}(e,a);n.append(t)}return n}(e,t);return l.append(o,c),a.append(l),n.append(a),n}let s=document.getElementById("root");window.addEventListener("message",e=>{let{type:t,payload:n}=e.data;switch(t){case"INITIALIZATION":console.log("INITIALIZATION");break;case"DEPENDENCIES":{let t=d({isVisibleButtons:!1});s.append(r(t,e.data.data));break}case"DEV_DEPENDENCIES":{console.log(e);let t=d({isVisibleButtons:!1});s.append(r(t,e.data.data));break}case"PACKAGE_MANAGER_DETECTED":console.log("PACKAGE_MANAGER_DETECTED")}})})();
//# sourceMappingURL=main.js.map
